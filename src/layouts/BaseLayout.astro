---
export interface Props {
  title: string
  description?: string
  keywords?: string
  pageStylesheets?: string[]
  themeColor?: string
  activeNav?: string
}

const {
  title,
  description = "Tu compañero inteligente para la calma. Test GAD-7 gratuito, diario emocional encriptado y recursos profesionales. Validado por más de 127,000 personas en estudios clínicos.",
  keywords = "ansiedad, test ansiedad, diario emocional, salud mental, app ansiedad, test GAD-7, control ansiedad, bienestar mental, terapia online, mindfulness",
  pageStylesheets = [],
  themeColor = "#2563EB",
  activeNav = ""
} = Astro.props
---

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{title}</title>
    
    <!-- CSS Base del Santuario Digital -->
    <style is:global>
        @import "/src/styles/sanctuary-design.css";
        @import "/src/styles/warm-design.css";
        @import "/src/styles/header-clean.css";
        @import "/src/styles/mobile-menu-enhanced.css";
        @import "/src/styles/static-icons.css";
    </style>
    
    <!-- CSS específicos de página -->
    {pageStylesheets.map(stylesheet => (
        <style is:global>
            @import `/src/styles/${stylesheet}`;
        </style>
    ))}
    
    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Meta tags -->
    <meta name="description" content={description}>
    <meta name="keywords" content={keywords}>
    <meta name="author" content="Sensus Team">
    
    <!-- Favicon -->
    <link rel="icon" href="/assets/images/Logo.jpeg" type="image/jpeg">
    <link rel="apple-touch-icon" href="/assets/images/Logo.jpeg">
    <meta name="theme-color" content={themeColor}>
</head>
<body>
    <!-- Animación de carga -->
    <div class="loading-heart">
        <i class="fas fa-heart"></i>
    </div>
    
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo-container">
                <div class="logo-placeholder">
                    <i class="fas fa-brain"></i>
                    <span>SENSUS</span>
                </div>
            </div>
            
            <nav class="main-nav">
                <button class="menu-toggle" aria-label="Abrir menú">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </button>
                <ul class="nav-links">
                    <li><a href="/" class={activeNav === "inicio" ? "active" : ""}>
                        <i class="fas fa-home" aria-hidden="true"></i>
                        Inicio
                    </a></li>
                    <li><a href="/evaluacion" class={activeNav === "evaluacion" ? "active" : ""}>
                        <i class="fas fa-clipboard-check" aria-hidden="true"></i>
                        Evaluación
                    </a></li>
                    <li><a href="/diario" class={activeNav === "diario" ? "active" : ""}>
                        <i class="fas fa-book-open" aria-hidden="true"></i>
                        Diario
                    </a></li>
                    <li><a href="/ansiedad" class={activeNav === "ansiedad" ? "active" : ""}>
                        <i class="fas fa-heart" aria-hidden="true"></i>
                        Síntomas
                    </a></li>
                    <li><a href="/planes" class={activeNav === "planes" ? "active" : ""}>
                        <i class="fas fa-star" aria-hidden="true"></i>
                        Planes
                    </a></li>
                    <li><a href="/equipo" class={activeNav === "equipo" ? "active" : ""}>
                        <i class="fas fa-users" aria-hidden="true"></i>
                        Equipo
                    </a></li>
                    <li><a href="/contacto" class={activeNav === "contacto" ? "active" : ""}>
                        <i class="fas fa-envelope" aria-hidden="true"></i>
                        Contacto
                    </a></li>
                </ul>
            </nav>
            
            <div class="auth-buttons">
                <button class="btn-cta btn-outline" id="login-btn">Iniciar sesión</button>
                <button class="btn-cta" id="register-btn">Registrarse</button>
            </div>
        </div>
    </header>
    
    <!-- Menu Overlay -->
    <div class="menu-overlay"></div>

    <main>
        <slot />
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">SENSUS</div>
            <p class="footer-description">
                App de apoyo emocional respaldada por la ciencia. Tu salud mental merece respeto — y nosotros también lo tenemos.
            </p>
            
            <div class="footer-links">
                <a href="/politica-privacidad">Privacidad</a>
                <a href="/terminos-uso">Términos</a>
                <a href="/contacto">Contacto</a>
                <a href="/equipo">Equipo</a>
            </div>
            
            <div class="footer-legal">
                SENSUS © 2025. App de apoyo emocional respaldada por la ciencia.
            </div>
            
            <div class="footer-certifications">
                <div class="certification-badge" title="GDPR Compliant">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="certification-badge" title="HIPAA Compliant">
                    <i class="fas fa-lock"></i>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script is:inline src="/js/sanctuary-interactions.js"></script>
    <script is:inline src="/js/header-interactions.js"></script>
    
    <!-- Firebase (mantener para funcionalidad existente) -->
    <script is:inline src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script is:inline src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script is:inline src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script is:inline src="/js/modules/firebase-config.js"></script>
    <script is:inline src="/js/modules/auth.js"></script>
    <script is:inline src="/js/mobile-menu-enhanced.js"></script>
</body>
</html>