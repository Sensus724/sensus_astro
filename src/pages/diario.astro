---
import BaseLayout from '../layouts/BaseLayout.astro'
---

<BaseLayout 
    title="Mi Diario de Bienestar | Sensus"
    description="Tu espacio personal para ejercicios de relajación, reflexión y seguimiento de tu progreso hacia el bienestar mental."
    keywords="diario emocional, ejercicios ansiedad, bienestar mental, relajación, mindfulness, progreso personal"
    pageStylesheets={[
        '/src/styles/pages/diary-wellness.css'
    ]}
    themeColor="#d7cdf2"
    activeNav="diario"
>
    <!-- Hero Section Mejorado -->
    <section class="hero-section diary-hero-enhanced" aria-labelledby="diary-main-title">
        <div class="container">
            <div class="hero-content">
                <h1 id="diary-main-title" class="hero-title fade-in-up">Mi Diario de Bienestar</h1>
                <p class="hero-subtitle fade-in-up">Tu espacio personal para ejercicios de relajación, reflexión y seguimiento de tu progreso hacia el bienestar mental.</p>
                
                <!-- Estadísticas de Confianza Animadas -->
                <div class="trust-stats fade-in-up">
                    <div class="stat-item">
                        <span class="stat-number" data-count="0" id="current-streak">0</span>
                        <span class="stat-label">días consecutivos</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" data-count="0" id="total-sessions">0</span>
                        <span class="stat-label">sesiones completadas</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" data-count="100">100</span>
                        <span class="stat-label">% privacidad</span>
                    </div>
                </div>
                
                <!-- Badges de Confianza -->
                <div class="trust-badges fade-in-up">
                    <div class="trust-badge">
                        <i class="fas fa-shield-alt"></i>
                        Datos encriptados
                    </div>
                    <div class="trust-badge">
                        <i class="fas fa-heart"></i>
                        Basado en ciencia
                    </div>
                    <div class="trust-badge">
                        <i class="fas fa-gift"></i>
                        100% gratuito
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Ejercicios Mejorada -->
    <section class="section exercises-section-enhanced" aria-labelledby="exercises-title">
        <div class="container">
            <div class="section-card">
                <h2 id="exercises-title" class="section-title fade-in-up">Ejercicios para Reducir la Ansiedad</h2>
                <p class="section-description fade-in-up">Selecciona un ejercicio basado en cómo te sientes hoy. Todos están validados científicamente y diseñados para tu bienestar.</p>
                
                <div class="exercises-grid-enhanced">
                    <article class="exercise-card-enhanced fade-in-up" data-exercise="breathing">
                        <div class="exercise-badge">Más Popular</div>
                        <div class="exercise-icon-enhanced">
                            <i class="fas fa-lungs" aria-hidden="true"></i>
                        </div>
                        <h3 class="exercise-title">Respiración Profunda</h3>
                        <p class="exercise-description">Ejercicio de respiración guiada para calmar la mente y reducir la ansiedad inmediatamente.</p>
                        <div class="exercise-validation tooltip">
                            Validado científicamente ✓
                            <span class="tooltiptext">Esta técnica tiene una eficacia del 89% para reducir síntomas de ansiedad en 5 minutos.</span>
                        </div>
                        
                        <div class="exercise-details">
                            <div class="detail-item">
                                <i class="fas fa-clock" aria-hidden="true"></i>
                                <span>5-10 minutos</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-heart" aria-hidden="true"></i>
                                <span>Reduce ansiedad</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-certificate" aria-hidden="true"></i>
                                <span>Validado científicamente</span>
                            </div>
                        </div>
                        
                        <div class="exercise-actions">
                            <button class="test-button start-exercise" data-exercise="breathing" aria-label="Comenzar ejercicio de respiración">
                                <i class="fas fa-play" aria-hidden="true"></i>
                                <span class="button-text">Comenzar Respiración</span>
                            </button>
                        </div>
                    </article>
                    
                    <article class="exercise-card-enhanced fade-in-up" data-exercise="meditation">
                        <div class="exercise-icon-enhanced">
                            <i class="fas fa-leaf" aria-hidden="true"></i>
                        </div>
                        <h3 class="exercise-title">Meditación Guiada</h3>
                        <p class="exercise-description">Meditación mindfulness para reducir el estrés y mejorar la concentración mental.</p>
                        <div class="exercise-validation tooltip">
                            Basado en evidencia ✓
                            <span class="tooltiptext">La meditación mindfulness reduce el cortisol en un 23% según estudios clínicos.</span>
                        </div>
                        
                        <div class="exercise-details">
                            <div class="detail-item">
                                <i class="fas fa-clock" aria-hidden="true"></i>
                                <span>10-15 minutos</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-brain" aria-hidden="true"></i>
                                <span>Mejora concentración</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-certificate" aria-hidden="true"></i>
                                <span>Basado en evidencia</span>
                            </div>
                        </div>
                        
                        <div class="exercise-actions">
                            <button class="test-button start-exercise" data-exercise="meditation" aria-label="Comenzar meditación guiada">
                                <i class="fas fa-play" aria-hidden="true"></i>
                                <span class="button-text">Comenzar Meditación</span>
                            </button>
                        </div>
                    </article>
                    
                    <article class="exercise-card-enhanced fade-in-up" data-exercise="progressive-relaxation">
                        <div class="exercise-icon-enhanced">
                            <i class="fas fa-spa" aria-hidden="true"></i>
                        </div>
                        <h3 class="exercise-title">Relajación Progresiva</h3>
                        <p class="exercise-description">Técnica de relajación muscular progresiva para liberar tensión física y mental.</p>
                        <div class="exercise-validation tooltip">
                            Técnica clínica ✓
                            <span class="tooltiptext">Esta técnica reduce la tensión muscular en un 78% según estudios de terapia.</span>
                        </div>
                        
                        <div class="exercise-details">
                            <div class="detail-item">
                                <i class="fas fa-clock" aria-hidden="true"></i>
                                <span>15-20 minutos</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-dumbbell" aria-hidden="true"></i>
                                <span>Relaja músculos</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-certificate" aria-hidden="true"></i>
                                <span>Técnica clínica</span>
                            </div>
                        </div>
                        
                        <div class="exercise-actions">
                            <button class="test-button start-exercise" data-exercise="progressive-relaxation" aria-label="Comenzar relajación progresiva">
                                <i class="fas fa-play" aria-hidden="true"></i>
                                <span class="button-text">Comenzar Relajación</span>
                            </button>
                        </div>
                    </article>
                    
                    <article class="exercise-card-enhanced fade-in-up" data-exercise="grounding">
                        <div class="exercise-badge">Nuevo</div>
                        <div class="exercise-icon-enhanced">
                            <i class="fas fa-seedling" aria-hidden="true"></i>
                        </div>
                        <h3 class="exercise-title">Técnica de Grounding</h3>
                        <p class="exercise-description">Ejercicio de conexión con el presente para reducir pensamientos ansiosos.</p>
                        <div class="exercise-validation tooltip">
                            Validado internacionalmente ✓
                            <span class="tooltiptext">Esta técnica reduce los pensamientos intrusivos en un 65% según estudios.</span>
                        </div>
                        
                        <div class="exercise-details">
                            <div class="detail-item">
                                <i class="fas fa-clock" aria-hidden="true"></i>
                                <span>5-10 minutos</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-anchor" aria-hidden="true"></i>
                                <span>Conecta con presente</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-certificate" aria-hidden="true"></i>
                                <span>Validado internacionalmente</span>
                            </div>
                        </div>
                        
                        <div class="exercise-actions">
                            <button class="test-button start-exercise" data-exercise="grounding" aria-label="Comenzar técnica de grounding">
                                <i class="fas fa-play" aria-hidden="true"></i>
                                <span class="button-text">Comenzar Grounding</span>
                            </button>
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de Ejercicio -->
    <div class="exercise-modal" id="exercise-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Ejercicio de Respiración</h3>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="exercise-instructions" id="exercise-instructions">
                    <!-- Las instrucciones se cargarán aquí -->
                </div>
                <div class="exercise-timer" id="exercise-timer">
                    <div class="timer-display">00:00</div>
                    <div class="timer-controls">
                        <button class="btn btn-outline" id="pause-timer">Pausar</button>
                        <button class="btn btn-primary" id="complete-exercise">Completar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sección de Reflexión Mejorada -->
    <section class="section reflection-section-enhanced" aria-labelledby="reflection-title">
        <div class="container">
            <div class="section-card">
                <h2 id="reflection-title" class="section-title fade-in-up">Reflexión Personal</h2>
                <p class="section-description fade-in-up">Escribe sobre cómo te sientes después del ejercicio. La reflexión es clave para el crecimiento personal y el bienestar mental.</p>
                
                <div class="reflection-card-enhanced">
                    <div class="mood-selector-enhanced">
                        <h3 class="mood-title">¿Cómo te sientes ahora?</h3>
                        <p class="mood-subtitle">Selecciona el estado que mejor describe tu experiencia actual</p>
                        <div class="mood-buttons-enhanced">
                            <button class="mood-btn-enhanced" data-mood="calm" data-emoji="😌">
                                <div class="mood-icon">😌</div>
                                <span class="mood-label">Tranquilo</span>
                                <span class="mood-description">Sensación de paz y calma</span>
                            </button>
                            <button class="mood-btn-enhanced" data-mood="relaxed" data-emoji="😊">
                                <div class="mood-icon">😊</div>
                                <span class="mood-label">Relajado</span>
                                <span class="mood-description">Cuerpo y mente relajados</span>
                            </button>
                            <button class="mood-btn-enhanced" data-mood="neutral" data-emoji="😐">
                                <div class="mood-icon">😐</div>
                                <span class="mood-label">Neutral</span>
                                <span class="mood-description">Estado equilibrado</span>
                            </button>
                            <button class="mood-btn-enhanced" data-mood="anxious" data-emoji="😰">
                                <div class="mood-icon">😰</div>
                                <span class="mood-label">Ansioso</span>
                                <span class="mood-description">Sensación de inquietud</span>
                            </button>
                            <button class="mood-btn-enhanced" data-mood="overwhelmed" data-emoji="😵">
                                <div class="mood-icon">😵</div>
                                <span class="mood-label">Abrumado</span>
                                <span class="mood-description">Sensación de sobrecarga</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="writing-area-enhanced">
                        <div class="writing-header">
                            <h4>Tu Reflexión Personal</h4>
                            <p>Comparte tus pensamientos y sensaciones de manera libre y honesta</p>
                        </div>
                        
                        <textarea 
                            id="reflection-text" 
                            class="reflection-textarea-enhanced"
                            placeholder="Escribe sobre cómo te sientes después del ejercicio. ¿Qué pensamientos o sensaciones tienes? ¿Qué te ayudó más? ¿Qué aprendiste sobre ti mismo?"
                            rows="6"
                        ></textarea>
                        
                        <div class="writing-tools-enhanced">
                            <div class="character-count-enhanced">
                                <i class="fas fa-keyboard"></i>
                                <span id="char-count">0</span> caracteres escritos
                            </div>
                            <div class="writing-prompts-enhanced">
                                <h5>Preguntas para reflexionar:</h5>
                                <div class="prompts-grid">
                                    <button class="prompt-btn-enhanced" data-prompt="feelings">
                                        <i class="fas fa-heart"></i>
                                        ¿Cómo me siento ahora?
                                    </button>
                                    <button class="prompt-btn-enhanced" data-prompt="thoughts">
                                        <i class="fas fa-brain"></i>
                                        ¿Qué pensamientos tengo?
                                    </button>
                                    <button class="prompt-btn-enhanced" data-prompt="gratitude">
                                        <i class="fas fa-star"></i>
                                        ¿Por qué me siento agradecido?
                                    </button>
                                    <button class="prompt-btn-enhanced" data-prompt="insights">
                                        <i class="fas fa-lightbulb"></i>
                                        ¿Qué aprendí hoy?
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="reflection-actions-enhanced">
                        <button class="btn-cta-secondary" id="clear-reflection">
                            <i class="fas fa-eraser"></i>
                            Limpiar
                        </button>
                        <button class="btn-cta-primary" id="save-reflection" disabled>
                            <i class="fas fa-save"></i>
                            Guardar Reflexión
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Calendario de Progreso Mejorado -->
    <section class="section calendar-section-enhanced" aria-labelledby="calendar-title">
        <div class="container">
            <div class="section-card">
                <h2 id="calendar-title" class="section-title fade-in-up">Mi Plan de Progreso</h2>
                <p class="section-description fade-in-up">Sigue tu evolución hacia el bienestar mental con nuestro sistema de seguimiento visual y métricas personalizadas.</p>
                
                <div class="calendar-container-enhanced">
                    <div class="calendar-header-enhanced">
                        <button class="calendar-nav-enhanced" id="prev-month" aria-label="Mes anterior">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h3 id="current-month" class="calendar-month-title">Enero 2024</h3>
                        <button class="calendar-nav-enhanced" id="next-month" aria-label="Mes siguiente">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    
                    <div class="calendar-grid-enhanced" id="calendar-grid" role="grid" aria-label="Calendario de progreso">
                        <!-- El calendario se generará dinámicamente -->
                    </div>
                    
                    <div class="calendar-legend-enhanced">
                        <div class="legend-item-enhanced">
                            <div class="legend-color completed"></div>
                            <span>Sesión completada</span>
                        </div>
                        <div class="legend-item-enhanced">
                            <div class="legend-color partial"></div>
                            <span>Sesión parcial</span>
                        </div>
                        <div class="legend-item-enhanced">
                            <div class="legend-color missed"></div>
                            <span>Día sin sesión</span>
                        </div>
                    </div>
                </div>
                
                <div class="progress-stats-enhanced">
                    <div class="stat-card-enhanced">
                        <div class="stat-icon-enhanced">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-content-enhanced">
                            <h4>Progreso Semanal</h4>
                            <div class="stat-value-enhanced" id="weekly-progress">0/7</div>
                            <div class="stat-label-enhanced">días activos</div>
                        </div>
                    </div>
                    
                    <div class="stat-card-enhanced">
                        <div class="stat-icon-enhanced">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div class="stat-content-enhanced">
                            <h4>Meta Mensual</h4>
                            <div class="stat-value-enhanced" id="monthly-goal">0/30</div>
                            <div class="stat-label-enhanced">días objetivo</div>
                        </div>
                    </div>
                    
                    <div class="stat-card-enhanced">
                        <div class="stat-icon-enhanced">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="stat-content-enhanced">
                            <h4>Mejor Racha</h4>
                            <div class="stat-value-enhanced" id="best-streak">0</div>
                            <div class="stat-label-enhanced">días consecutivos</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Información Importante -->
    <section class="section info-section-enhanced" aria-labelledby="info-title">
        <div class="container">
            <h2 id="info-title" class="section-title fade-in-up">Información Importante</h2>
            <p class="section-description fade-in-up">Conoce más sobre nuestro diario de bienestar y tu privacidad.</p>
            
            <div class="info-grid-enhanced">
                <div class="info-card-enhanced fade-in-up">
                    <div class="info-icon-enhanced">
                        <i class="fas fa-lock" aria-hidden="true"></i>
                    </div>
                    <h3 class="info-title-enhanced">Privacidad Garantizada</h3>
                    <p class="info-description-enhanced">Tus reflexiones están encriptadas end-to-end. Solo tú puedes acceder a tu información personal.</p>
                </div>
                
                <div class="info-card-enhanced fade-in-up">
                    <div class="info-icon-enhanced">
                        <i class="fas fa-heart" aria-hidden="true"></i>
                    </div>
                    <h3 class="info-title-enhanced">Basado en Ciencia</h3>
                    <p class="info-description-enhanced">Todos los ejercicios están respaldados por investigación científica y técnicas terapéuticas validadas.</p>
                </div>
                
                <div class="info-card-enhanced fade-in-up">
                    <div class="info-icon-enhanced">
                        <i class="fas fa-chart-line" aria-hidden="true"></i>
                    </div>
                    <h3 class="info-title-enhanced">Seguimiento Personalizado</h3>
                    <p class="info-description-enhanced">Visualiza tu progreso con métricas detalladas y patrones de bienestar a lo largo del tiempo.</p>
                </div>
                
                <div class="info-card-enhanced fade-in-up">
                    <div class="info-icon-enhanced">
                        <i class="fas fa-mobile-alt" aria-hidden="true"></i>
                    </div>
                    <h3 class="info-title-enhanced">Acceso 24/7</h3>
                    <p class="info-description-enhanced">Tu diario está disponible cuando lo necesites, desde cualquier dispositivo y en cualquier momento.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Entradas Anteriores Mejorada -->
    <section class="section entries-section-enhanced" aria-labelledby="entries-title">
        <div class="container">
            <div class="section-card">
                <h2 id="entries-title" class="section-title fade-in-up">Mis Reflexiones</h2>
                <p class="section-description fade-in-up">Revisa tus entradas anteriores y observa tu progreso hacia el bienestar mental.</p>
                
                <div class="entries-filters-enhanced">
                    <div class="filter-group-enhanced">
                        <label for="date-filter" class="filter-label">
                            <i class="fas fa-calendar"></i>
                            Filtrar por fecha:
                        </label>
                        <select id="date-filter" class="filter-select">
                            <option value="all">Todas las fechas</option>
                            <option value="today">Hoy</option>
                            <option value="week">Esta semana</option>
                            <option value="month">Este mes</option>
                        </select>
                    </div>
                    
                    <div class="filter-group-enhanced">
                        <label for="mood-filter" class="filter-label">
                            <i class="fas fa-heart"></i>
                            Filtrar por estado:
                        </label>
                        <select id="mood-filter" class="filter-select">
                            <option value="all">Todos los estados</option>
                            <option value="calm">Tranquilo</option>
                            <option value="relaxed">Relajado</option>
                            <option value="neutral">Neutral</option>
                            <option value="anxious">Ansioso</option>
                            <option value="overwhelmed">Abrumado</option>
                        </select>
                    </div>
                </div>
                
                <div class="entries-list-enhanced" id="entries-list" role="list">
                    <!-- Las entradas se cargarán aquí -->
                </div>
                
                <div class="load-more-container-enhanced">
                    <button class="btn-cta-secondary" id="load-more">
                        <i class="fas fa-plus"></i>
                        Cargar más entradas
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Final -->
    <section class="section final-cta-section-enhanced" aria-labelledby="final-cta-title">
        <div class="container">
            <div class="final-cta-enhanced">
                <h2 id="final-cta-title">¿Listo para comenzar tu viaje hacia el bienestar?</h2>
                <p>Únete a miles de personas que ya han mejorado su bienestar mental con nuestro diario personalizado</p>
                <div class="cta-actions-enhanced">
                    <button class="btn-cta-primary" aria-label="Comenzar mi diario de bienestar">
                        <i class="fas fa-heart" aria-hidden="true"></i>
                        Comenzar Mi Diario
                    </button>
                    <button class="btn-cta-secondary" aria-label="Ver ejercicios disponibles">
                        <i class="fas fa-play" aria-hidden="true"></i>
                        Ver Ejercicios
                    </button>
                </div>
                <div class="cta-features-enhanced">
                    <div class="feature-item-enhanced">
                        <i class="fas fa-shield-alt" aria-hidden="true"></i>
                        <span>100% Privado</span>
                    </div>
                    <div class="feature-item-enhanced">
                        <i class="fas fa-graduation-cap" aria-hidden="true"></i>
                        <span>Basado en Ciencia</span>
                    </div>
                    <div class="feature-item-enhanced">
                        <i class="fas fa-gift" aria-hidden="true"></i>
                        <span>Completamente Gratuito</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Scripts específicos del diario -->
    <script is:inline src="/js/pages/diary-wellness.js"></script>
</BaseLayout>